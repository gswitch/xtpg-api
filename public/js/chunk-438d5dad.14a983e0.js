(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-438d5dad"],{"01c8":function(t,e,s){"use strict";s.r(e);var i=s("f665"),n=s("1e6c"),a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"x-messenger fill-height"},[e(i["a"],{staticClass:"fill-height",model:{value:t.schema.window,callback:function(e){t.$set(t.schema,"window",e)},expression:"schema.window"}},[e(n["a"],{staticClass:"x-win-user-list fill-height"},[e("user-list",t._g(t._b({},"user-list",t.$props,!1),t.$listeners))],1),e(n["a"],{staticClass:"x-win-user-chat fill-height"},[e("user-chat",t._g(t._b({},"user-chat",t.$props,!1),t.$listeners))],1)],1)],1)},r=[],o=s("2b0e"),h=s("8212"),l=s("4ca6"),c=s("ce7e"),d=s("132d"),u=s("adda"),p=s("8860"),m=s("da13"),v=s("1800"),f=s("5d23"),g=s("1baa"),w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"x-user-list fill-height"},[e(p["a"],{attrs:{subheader:"","two-line":"",dense:""}},[e(g["a"],{attrs:{color:"primary"},model:{value:t.$parent.$parent.$parent.selectedRow,callback:function(e){t.$set(t.$parent.$parent.$parent,"selectedRow",e)},expression:"$parent.$parent.$parent.selectedRow"}},[t._l(t.schema.users,(function(s,i){return[i<=t.schema.users.length?e(m["a"],{key:i,staticClass:"x-list-item",on:{click:function(e){return t.$parent.$parent.$parent.selectedUser(s)}}},[e("div",{staticClass:"x-avatar mr-2"},[e(l["a"],{attrs:{dot:"",bordered:"",bottom:"","offset-x":"10","offset-y":"10",color:t.status(s)}},[e(h["a"],{attrs:{size:"36"}},[e(u["a"],{attrs:{src:s.avatar,alt:s.name}})],1)],1)],1),e(f["a"],{staticClass:"py-0"},[e(f["c"],{domProps:{textContent:t._s(s.name)}}),e(f["b"],{domProps:{textContent:t._s(s.profile)}})],1),e(v["a"],{staticClass:"my-0"},[e(d["a"],{attrs:{color:"grey lighten-1"}},[t._v("mdi-chevron-right-circle")])],1)],1):t._e(),i<t.schema.users.length?e(c["a"],{key:i+1e3}):t._e()]}))],2)],1)],1)},b=[],x={name:"UserList",props:{schema:{type:Object}},methods:{status(t){switch(t.status){case"on":return"warning";case"busy":return"error";default:return"white"}}}},$=x,C=(s("e7be"),s("2877")),y=Object(C["a"])($,w,b,!1,null,"1b559b17",null),_=y.exports,B=s("4bd4"),O=s("2fa4"),I=s("8654"),T=s("dc22"),R=function(){var t=this,e=t._self._c;return e("div",{directives:[{def:T["a"],name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],staticClass:"x-user-chat six",style:[{height:t.height-35+"px"}]},[e("div",{staticClass:"x-user-panel tree"},[e("div",{staticClass:"d-flex align-center"},[e("div",{staticClass:"x-left-btn d-flex",on:{click:function(e){return t.$parent.$parent.$parent.unselectedUser()}}},[e(d["a"],{attrs:{size:"34"}},[t._v("mdi-chevron-left")])],1),e("div",{staticClass:"ml-2"},[e("div",[t._v(" "+t._s(t.schema.user.name)+" ")]),e("div",{staticClass:"text-caption text--disabled"},[t._v(" "+t._s(t.schema.user.profile)+" ")])]),e(O["a"]),e("div",{staticClass:"d-flex align-center pa-1"},[e(h["a"],{attrs:{size:"38"}},[e("img",{attrs:{src:t.schema.user.avatar,alt:t.schema.user.name}})])],1)],1)]),e("div",{staticClass:"x-message-panel",style:[{height:t.height-134+"px"}]},t._l(t.schema.user.messages,(function(t,s){return e("div",{key:s,staticClass:"x-message-items x-right my-2 pa-1 text-body-2"},[e("x-user-chat-msg",{attrs:{msg:t}})],1)})),0),e("div",{staticClass:"x-action-panel"},[e(B["a"],{staticClass:"x-send-form",on:{submit:function(e){return e.preventDefault(),t.sendMessage()}},model:{value:t.schema.fields.valid,callback:function(e){t.$set(t.schema.fields,"valid",e)},expression:"schema.fields.valid"}},[e(I["a"],{attrs:{type:"text","append-icon":"mdi-send",placeholder:"Mensagem...",rules:t.schema.fields.text.rules,"hide-details":"",dense:"",filled:"",required:""},on:{"click:append":function(e){return t.sendMessage()}},model:{value:t.schema.fields.text.value,callback:function(e){t.$set(t.schema.fields.text,"value",e)},expression:"schema.fields.text.value"}})],1)],1)])},j=[],S=function(){var t=this,e=t._self._c;return e("div",{class:["x-chat-message d-flex",{"flex-row-reverse":t.msg.right}]},[e("div",[e(d["a"],[t._v("mdi-account")])],1),e("div",{staticClass:"x-message-text px-2"},[e("div",{staticClass:"x-text"},[t._v(" "+t._s(t.msg.text)+" ")]),e("div",{staticClass:"x-date text-right"},[t._v(" "+t._s(t.$moment(t.msg.sendDate).format("DD/MM/YYYY HH:mm"))+" ")])])])},E=[],A={name:"ChatMessage",props:{msg:{type:Object}}},k=A,P=(s("3c27"),Object(C["a"])(k,S,E,!1,null,null,null)),V=P.exports,G={name:"UserChat",components:{XUserChatMsg:V},props:{schema:{type:Object}},data(){return{height:"100%"}},methods:{onResize(){this.height=window.innerHeight},async sendMessage(){this.$parent.$parent.$parent.sendMessage(this.schema.fields)}}},H=G,z=(s("27cb"),Object(C["a"])(H,R,j,!1,null,"513e895f",null)),U=z.exports,D={name:"Chat",components:{UserList:_,UserChat:U},props:{schema:{type:[Object]}},computed:{},data(){return{selectedRow:0}},methods:{addUserProperty(){this.schema.user||o["a"].set(this.schema,"user",void 0),this.selectUser()},selectedUser(t){if(this.schema.user=t,this.$listeners&&this.$listeners["selected-user"])return this.$emit("selected-user",t);this.schema.window=1},unselectedUser(){if(this.$listeners&&this.$listeners["unselected-user"])return this.$emit("unselected-user");this.schema.window=0},selectRow(){this.schema.user&&this.schema.users&&this.schema.users.length>0&&(this.selectedRow=this.schema.users.findIndex(t=>t.id===this.schema.user.id),this.schema.user=this.schema.users[this.selectedRow])},selectUser(){this.schema&&this.schema.users&&this.schema.users.length>0&&(!this.schema.user||Object.keys(this.schema.user).length<=0)&&(this.schema.user=this.schema.users[this.selectedRow]),this.selectRow()},sendMessage(t){this.$emit("send-message",t)}},created(){this.addUserProperty()}},M=D,N=(s("77fd"),Object(C["a"])(M,a,r,!1,null,"5ed72240",null));e["default"]=N.exports},"13b3":function(t,e,s){},"1e6c":function(t,e,s){"use strict";var i=s("9d65"),n=s("4e82"),a=s("c3f0"),r=s("80d2"),o=s("58df");const h=Object(o["a"])(i["a"],Object(n["a"])("windowGroup","v-window-item","v-window"));e["a"]=h.extend().extend().extend({name:"v-window-item",directives:{Touch:a["a"]},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return this.$slots.default},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(r["g"])(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(t){this.inTransition&&this.$nextTick(()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=Object(r["g"])(t.clientHeight))})}},render(t){return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent(()=>[this.genWindowItem()]))}})},"27cb":function(t,e,s){"use strict";s("9698")},"3c27":function(t,e,s){"use strict";s("b225")},"4bd4":function(t,e,s){"use strict";s("caad");var i=s("58df"),n=s("7e2b"),a=s("3206");e["a"]=Object(i["a"])(n["a"],Object(a["b"])("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",e=>{this.$set(this.errorBag,t._uid,e)},{immediate:!0}),s={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?s.shouldValidate=t.$watch("shouldValidate",i=>{i&&(this.errorBag.hasOwnProperty(t._uid)||(s.valid=e(t)))}):s.valid=e(t),s},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find(e=>e._uid===t._uid);if(!e)return;const s=this.watchers.find(t=>t._uid===e._uid);s&&(s.valid(),s.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==e._uid),this.inputs=this.inputs.filter(t=>t._uid!==e._uid),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},"4ca6":function(t,e,s){"use strict";s("ff44");var i=s("132d"),n=s("a9ad"),a=s("7560"),r=s("f2e7"),o=s("2b0e"),h=o["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),l=s("fe6c"),c=s("58df"),d=s("80d2");e["a"]=Object(c["a"])(n["a"],Object(l["b"])(["left","bottom"]),a["a"],r["a"],h).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes(){return{"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile,...this.themeClasses}},computedBottom(){return this.bottom?"auto":this.computedYOffset},computedLeft(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop(){return this.bottom?this.computedYOffset:"auto"},computedXOffset(){return this.calcPosition(this.offsetX)},computedYOffset(){return this.calcPosition(this.offsetY)},isRtl(){return this.$vuetify.rtl},offset(){return this.overlap?this.dot?8:12:this.dot?2:4},styles(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition(t){return`calc(100% - ${Object(d["g"])(t||this.offset)})`},genBadge(){const t=this.$vuetify.lang,e=this.$attrs["aria-label"]||t.t(this.label),s=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":e,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),i=this.$createElement("span",s,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[i]):i},genBadgeContent(){if(this.dot)return;const t=Object(d["p"])(this,"badge");return t||(this.content?String(this.content):this.icon?this.$createElement(i["a"],this.icon):void 0)},genBadgeWrapper(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render(t){const e=[this.genBadgeWrapper()],s=[Object(d["p"])(this)],{"aria-atomic":i,"aria-label":n,"aria-live":a,role:r,title:o,...h}=this.$attrs;return this.inline&&this.left?s.unshift(e):s.push(e),t("span",{staticClass:"v-badge",attrs:h,class:this.classes},s)}})},"77fd":function(t,e,s){"use strict";s("f633")},"8ce9":function(t,e,s){},9698:function(t,e,s){},a305:function(t,e,s){},afdd:function(t,e,s){"use strict";var i=s("8336");e["a"]=i["a"]},b225:function(t,e,s){},ce7e:function(t,e,s){"use strict";s("8ce9");var i=s("7560");e["a"]=i["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(t){let e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":e,...this.$attrs},on:this.$listeners})}})},e7be:function(t,e,s){"use strict";s("a305")},f633:function(t,e,s){},f665:function(t,e,s){"use strict";s("13b3");var i=s("c3f0"),n=s("afdd"),a=s("9d26"),r=s("604c");e["a"]=r["a"].extend({name:"v-window",directives:{Touch:i["a"]},provide(){return{windowGroup:this}},props:{activeClass:{type:String,default:"v-window-item--active"},continuous:Boolean,mandatory:{type:Boolean,default:!0},nextIcon:{type:[Boolean,String],default:"$next"},prevIcon:{type:[Boolean,String],default:"$prev"},reverse:Boolean,showArrows:Boolean,showArrowsOnHover:Boolean,touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data(){return{changedByDelimiters:!1,internalHeight:void 0,transitionHeight:void 0,transitionCount:0,isBooted:!1,isReverse:!1}},computed:{isActive(){return this.transitionCount>0},classes(){return{...r["a"].options.computed.classes.call(this),"v-window--show-arrows-on-hover":this.showArrowsOnHover}},computedTransition(){if(!this.isBooted)return"";const t=this.vertical?"y":"x",e=this.internalReverse?!this.isReverse:this.isReverse,s=e?"-reverse":"";return`v-window-${t}${s}-transition`},hasActiveItems(){return Boolean(this.items.find(t=>!t.disabled))},hasNext(){return this.continuous||this.internalIndex<this.items.length-1},hasPrev(){return this.continuous||this.internalIndex>0},internalIndex(){return this.items.findIndex((t,e)=>this.internalValue===this.getValue(t,e))},internalReverse(){return this.$vuetify.rtl?!this.reverse:this.reverse}},watch:{internalIndex(t,e){this.isReverse=this.updateReverse(t,e)}},mounted(){window.requestAnimationFrame(()=>this.isBooted=!0)},methods:{genDefaultSlot(){return this.$slots.default},genContainer(){const t=[this.genDefaultSlot()];return this.showArrows&&t.push(this.genControlIcons()),this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight||this.transitionHeight}},t)},genIcon(t,e,s){var i,r,o;const h={click:t=>{t.stopPropagation(),this.changedByDelimiters=!0,s()}},l={"aria-label":this.$vuetify.lang.t("$vuetify.carousel."+t)},c=null!==(o=null===(r=(i=this.$scopedSlots)[t])||void 0===r?void 0:r.call(i,{on:h,attrs:l}))&&void 0!==o?o:[this.$createElement(n["a"],{props:{icon:!0},attrs:l,on:h},[this.$createElement(a["a"],{props:{large:!0}},e)])];return this.$createElement("div",{staticClass:"v-window__"+t},c)},genControlIcons(){const t=[],e=this.$vuetify.rtl?this.nextIcon:this.prevIcon;if(this.hasPrev&&e&&"string"===typeof e){const s=this.genIcon("prev",e,this.prev);s&&t.push(s)}const s=this.$vuetify.rtl?this.prevIcon:this.nextIcon;if(this.hasNext&&s&&"string"===typeof s){const e=this.genIcon("next",s,this.next);e&&t.push(e)}return t},getNextIndex(t){const e=(t+1)%this.items.length,s=this.items[e];return s.disabled?this.getNextIndex(e):e},getPrevIndex(t){const e=(t+this.items.length-1)%this.items.length,s=this.items[e];return s.disabled?this.getPrevIndex(e):e},next(){if(!this.hasActiveItems||!this.hasNext)return;const t=this.getNextIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)},prev(){if(!this.hasActiveItems||!this.hasPrev)return;const t=this.getPrevIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)},updateReverse(t,e){const s=this.items.length,i=s-1;return s<=2?t<e:t===i&&0===e||(0!==t||e!==i)&&t<e}},render(t){const e={staticClass:"v-window",class:this.classes,directives:[]};if(!this.touchless){const t=this.touch||{left:()=>{this.$vuetify.rtl?this.prev():this.next()},right:()=>{this.$vuetify.rtl?this.next():this.prev()},end:t=>{t.stopPropagation()},start:t=>{t.stopPropagation()}};e.directives.push({name:"touch",value:t})}return t("div",e,[this.genContainer()])}})},ff44:function(t,e,s){}}]);
//# sourceMappingURL=chunk-438d5dad.14a983e0.js.map